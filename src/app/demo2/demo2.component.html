<h2 class="text-primary">
  Open a big file / Upload it to the server
  <span class="badge badge-warning">
    Local only
  </span>
</h2>

<div class="form-group">
  <div class="custom-file">
    <input
      type="file"
      class="custom-file-input"
      id="largeFile"
      name="largeFile"
      (change)="onFileSelect($event)"
      [disabled]="loading"
    />
    <label class="custom-file-label" for="largeFile">{{
      selectedFile ? name : 'Choose large file'
    }}</label>
  </div>
</div>

<button
  type="button"
  (click)="resumableUpload()"
  class="btn btn-primary"
  [disabled]="!selectedFile"
  *ngIf="!loading"
>
  Upload
</button>

<div class="spinner-border text-primary" role="status" *ngIf="loading">
  <span class="sr-only">Uploading...</span>
</div>
<ngb-progressbar
  *ngIf="loading"
  class="d-block"
  [showValue]="true"
  type="primary"
  [value]="uploadPercent"
></ngb-progressbar>

<button *ngIf="loading" type="button" (click)="stop()" class="btn btn-danger">
  Stop
</button>

<div class="alert alert-success" *ngIf="uploadPercent >= 100">
  File uploaded
</div>
